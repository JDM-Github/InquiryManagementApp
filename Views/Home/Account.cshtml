@{
    var isAdmin = Context.Session.GetString("isAdmin");
    var firstName = Context.Session.GetString("Firstname");
    var lastName = Context.Session.GetString("Surname");
    var middleName = Context.Session.GetString("Middlename");
    var email = Context.Session.GetString("Email");
    var gender = Context.Session.GetString("Gender");
    var gradeLevel = Context.Session.GetString("GradeLevel");
    var address = Context.Session.GetString("Address");
    var lrn = Context.Session.GetString("LRN");
    var isApproved = Context.Session.GetString("IsApproved");
    var mother = Context.Session.GetString("Mother");
    var father = Context.Session.GetString("Father");
    var age = Context.Session.GetString("Age");
    var dateOfBirth = Context.Session.GetString("DateOfBirth");
    DateTime parsedDate = DateTime.Parse(dateOfBirth!);
}

<div class="container-fluid py-5" style="max-width: 80vw; margin-top: 30px;">
    <div class="row g-4">
        <div class="col-md-4">
            <div class="card shadow-sm border-0 rounded-3">
                <div class="card-body text-center">
                    <img src="https://via.placeholder.com/200" alt="Profile Image"
                        class="rounded-circle shadow-lg img-fluid mb-3"
                        style="max-width: 150px; height: auto; border: 4px solid #FFD700;">
                    <h5 class="text-primary font-weight-bold mb-2">@firstName @middleName</h5>
                    <p class="text-muted">@gradeLevel | @gender</p>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Date of Birth</label>
                        <input type="text" class="form-control" value="@parsedDate" readonly>
                    </div>
                    @* <div class="profile-box mb-2">
                        <label class="form-label text-muted">Age</label>
                        <input type="text" class="form-control" value="@age" readonly>
                    </div> *@
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Address</label>
                        <input type="text" class="form-control" value="@address" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">LRN</label>
                        <input type="text" class="form-control" value="@lrn" readonly>
                    </div>
                    <button class="btn btn-warning w-100 mt-3" data-bs-toggle="modal" data-bs-target="#editModal">
                        <i class="fas fa-edit"></i> Edit Profile
                    </button>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="card shadow-sm border-0 rounded-3 mb-4">
                <div class="card-body">
                    <h5 class="text-primary font-weight-bold">Student Information</h5>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Surname</label>
                        <input type="text" class="form-control" value="@lastName" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">First Name</label>
                        <input type="text" class="form-control" value="@firstName" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Middle Name</label>
                        <input type="text" class="form-control" value="@middleName" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Gender</label>
                        <input type="text" class="form-control" value="@gender" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Grade Level</label>
                        <input type="text" class="form-control" value="@gradeLevel" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">LRN</label>
                        <input type="text" class="form-control" value="@lrn" readonly>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm border-0 rounded-3 mb-4">
                <div class="card-body">
                    <h5 class="text-primary font-weight-bold">Parent Information</h5>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Father</label>
                        <input type="text" class="form-control" value="@father" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Mother</label>
                        <input type="text" class="form-control" value="@mother" readonly>
                    </div>
                </div>
            </div>

            @* <div class="card shadow-sm border-0 rounded-3 mb-4">
                <div class="card-body">
                    <h5 class="text-primary font-weight-bold">Required Documents</h5>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Form 10</label>
                        <input type="text" class="form-control" value="Uploaded" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Form 9</label>
                        <input type="text" class="form-control" value="Uploaded" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">PSA</label>
                        <input type="text" class="form-control" value="Uploaded" readonly>
                    </div>
                    <div class="profile-box mb-2">
                        <label class="form-label text-muted">Good Moral Certificate</label>
                        <input type="text" class="form-control" value="Uploaded" readonly>
                    </div>
                </div>
            </div> *@

            <div class="card shadow-sm border-0 rounded-3 mb-4">
                <div class="card-body d-flex justify-content-between align-items-center">
                    @* <span class="text-muted">Submission Date: 2024-11-01</span> *@
                    <span class="badge bg-success text-white p-3">@isApproved</span>
                </div>
            </div>

            <button class="btn btn-warning w-100" data-bs-toggle="modal" data-bs-target="#editModal">
                <i class="fas fa-edit"></i> Edit Information
            </button>
        </div>
    </div>
</div>

<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Edit Profile</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="editName" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="editName" value="@firstName @lastName">
                    </div>
                    <div class="mb-3">
                        <label for="editDob" class="form-label">Date of Birth</label>
                        <input type="date" class="form-control" id="editDob" value="@parsedDate">
                    </div>
                    <div class="mb-3">
                        <label for="editGender" class="form-label">Gender</label>
                        <select class="form-select" id="editGender">
                            <option value="Male" selected>Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="editAddress" class="form-label">Address</label>
                        <input type="text" class="form-control" id="editAddress" value="@address">
                    </div>
                    <div class="mb-3">
                        <label for="editLRN" class="form-label">LRN</label>
                        <input type="text" class="form-control" id="editLRN" value="@lrn">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<style>
    .profile-box {
        border-radius: 8px;
        text-align: left;
    }

    .profile-box input {
        background-color: #f9f9f9;
        border: 1px solid #ddd;
        padding: 5px;
        font-size: 14px;
    }

    .btn-warning {
        background-color: #FFD700;
        border-color: #FFD700;
    }

    .card-body {
        padding: 1.25rem;
    }
</style>
